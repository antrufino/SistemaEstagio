<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/layout/layoutPrivateDefault.xhtml">
        <ui:define name="title">Empresa</ui:define>
        <ui:define name="container">
                <h:form>
                        <p:dataTable id="empresaTable" var="empresa" value="#{empresaBean.empresaList}" paginator="true"
                                emptyMessage="Nenhuma empresa encontrada!" rendered="#{!empresaBean.form}">
                                <p:column width="200">
                                        <f:facet name="header">
                                                <p:commandLink action="#{empresaBean.form}" update="@form" title="Cadastrar Nova Empresa" styleClass="btn btn-primary btn-sm">
                                                        <i class="fa fa-plus-square"/>
                                                        Novo
                                                </p:commandLink>
                                        </f:facet>
                                        <p:commandLink update="@form" actionListener="#{empresaBean.form}" styleClass="btn btn-primary btn-sm">
                                                <f:setPropertyActionListener target="#{empresaBean.empresa}" value="#{empresa}"/>
                                                <i class="fa fa-pencil"/>
                                                Editar
                                        </p:commandLink>&nbsp;
                                        
                                        <p:commandLink action="#{empresaBean.excluir}" update="@form" styleClass="btn btn-danger btn-sm"> 
                                                <f:setPropertyActionListener target="#{empresaBean.empresa}" value="#{empresa}"/>
                                                <i class="fa fa-times-circle"/>  
                                                Excluir
                                                <p:confirm header="Excluir Empresa" message="Deseja realmente excluir esta empresa?" icon="ui-icon-alert" /> 
                                        </p:commandLink> 
                                        
                                        <p:confirmDialog global="true">  
                                        <p:commandButton value="Sim, Claro" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>  
                                        <p:commandButton value="Não, ainda não!" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
                                    </p:confirmDialog> 
                                </p:column>
                                <p:column headerText="Empresa">
                                        #{empresa.dsEmpresa}
                                </p:column>             
                                <p:column headerText="CNPJ">
                                        #{empresa.cnpj}
                                </p:column>
                                <p:column headerText="Endereço">
                                        #{empresa.endereco}
                                </p:column>                             
                                <p:column headerText="Atividade">
                                        #{empresa.foco_atividade}
                                </p:column>             
                                <p:column headerText="Site">
                                        #{empresa.site}
                                </p:column>             
                        </p:dataTable>
                        
                        <p:panel header="Empresa" rendered="#{empresaBean.form}" styleClass="form-horizontal">
              					<p:messages rendered="true"></p:messages>  
                                <div class="form-group">
                                    <label for="cdCPF" class="col-sm-2 control-label">Empresa:</label>
                                    <div class="col-sm-10">
                                    <p:inputText styleClass="form-control" value="#{empresaBean.empresa.dsEmpresa}" maxlength="80" style="width:60%"
                                                        rendered="true" required="true" requiredMessage="Informe o nome da empresa"/>                       
                                    </div> 
                                </div>
                                <div class="form-group">                             
                                    <label for="cdCPF" class="col-sm-2 control-label">CNPJ:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{empresaBean.empresa.cnpj}" maxlength="80" style="width:60%"
                                                        rendered="true" required="true" requiredMessage="Informe o CNPJ da empresa" />
                                                    
                                    </div>
                                </div>
                                <div class="form-group">   
                                    <label for="cdCPF" class="col-sm-2 control-label">Endereço:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{empresaBean.empresa.endereco}" maxlength="80" style="width:60%"
                                                        rendered="true" required="true" requiredMessage="Informe o endereço da empresa" />&nbsp;                                  
                                    </div>
                                </div>
                                <div class="form-group">   
                                      <label for="cdCPF" class="col-sm-2 control-label">Atividade:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{empresaBean.empresa.foco_atividade}" maxlength="20" style="width:60%"
                                                        rendered="true" required="true"  requiredMessage="Informe a atividade principal da empresa"/>&nbsp;                               
                                    </div>
                                    </div>
                                <div class="form-group">   
                                      <label for="cdCPF" class="col-sm-2 control-label">Site:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{empresaBean.empresa.site}" maxlength="20" style="width:60%"
                                                        rendered="true" requiredMessage="Informe qual o website!"/>                                 
                                    </div>    
                        		</div>
                                <div class="text-center">
                                        <p:commandLink action="#{empresaBean.salvar}" update="@form" styleClass="btn btn-primary btn-sm">
                                                <i class="fa fa-save" />
                                                Salvar
                                        </p:commandLink>
                                        &nbsp;
                                        <p:commandLink  action="#{empresaBean.grid}" update="@form" styleClass="btn btn-danger btn-sm" process="@this">
                                                <i class="fa fa-reply-all" />
                                                Cancelar
                                        </p:commandLink>
                                </div>
                                
                        </p:panel>
                
                </h:form>
        </ui:define>
</ui:composition>
</html>