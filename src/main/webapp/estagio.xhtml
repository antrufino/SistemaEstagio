<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/layout/layoutPrivateDefault.xhtml">
        <ui:define name="title">Estagio</ui:define>
        <ui:define name="container">
                <h:form>
                        <p:dataTable id="estagioTable" var="estagio" value="#{estagioBean.estagioList}" paginator="true"
                                emptyMessage="Nenhum estagio encontrado!" rendered="#{!estagioBean.form}">
                                <p:column width="200">
                                        <f:facet name="header">
                                                <p:commandLink rendered="#{loginBean.usuario.tipoUsuario.id eq 2}" action="#{estagioBean.form}" update="@form" title="Cadastrar Novo Estagio" styleClass="btn btn-primary btn-sm">
                                                        <i class="fa fa-plus-square"/>
                                                        Novo
                                                </p:commandLink>
                                        </f:facet>
                                        <p:commandLink rendered="#{loginBean.usuario.tipoUsuario.id eq 2}" update="@form" actionListener="#{estagioBean.form}" styleClass="btn btn-primary btn-sm">
                                                <f:setPropertyActionListener target="#{estagioBean.estagio}" value="#{estagio}"/>
                                                <i class="fa fa-pencil"/>
                                                Editar
                                        </p:commandLink>&nbsp;
                                        
                                        <p:commandLink rendered="#{loginBean.usuario.tipoUsuario.id eq 2}" action="#{estagioBean.excluir}" update="@form" styleClass="btn btn-danger btn-sm"> 
                                                <f:setPropertyActionListener target="#{estagioBean.estagio}" value="#{estagio}"/>
                                                <i class="fa fa-times-circle"/>  
                                                Excluir
                                                <p:confirm header="Excluir Empresa" message="Deseja realmente excluir esta estagio?" icon="ui-icon-alert" /> 
                                        </p:commandLink> 
                                        
                                        <p:confirmDialog global="true">  
                                        <p:commandButton value="Sim, Claro" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>  
                                        <p:commandButton value="Não, ainda não!" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
                                    </p:confirmDialog> 
                                </p:column>
                                <p:column headerText="Estagio">
                                        #{estagio.dsEstagio}
                                </p:column>
                                <p:column headerText="Empresa">
                                        #{estagio.empresa}
                                </p:column>             
                                <p:column headerText="Bolsa">
                                        #{estagio.bolsa}
                                </p:column>
                                <p:column headerText="Benefícios">
                                        #{estagio.beneficios}
                                </p:column>
                                <p:column headerText="Carga Horária (h/Semana)">
                                        #{estagio.chSemanal}
                                </p:column>
                                <p:column headerText="Habilidades Desejadas">
                                        #{estagio.habilidadeEstagios}
                                </p:column>
                                <p:column headerText="Inicio">
                                        #{estagio.dtInicio}
                                </p:column>                             
                                <p:column headerText="Fim">
                                        #{estagio.dtFim}
                                </p:column>
                                <p:column headerText="Contato">
                                        #{estagio.contatoEstagio}
                                </p:column>             
                        </p:dataTable>
                        
                        <p:panel columns="2" header="Estagio" rendered="#{estagioBean.form}" styleClass="form-horizontal">
                        &nbsp; 
                                <div class="form-group">
                                    <label for="cdEmpresa" class="col-sm-2 control-label">Estagio:</label>
                                    <div class="col-sm-10">
                                    
                                    <p:inputText styleClass="form-control" value="#{estagioBean.estagio.dsEstagio}" maxlength="80" style="width:60%"
                                                        rendered="true" required="true" requiredMessage="Informe o nome do estagio"/> &nbsp;                       
                                    </div>                                  
                                    <label for="cdEmpresa" class="col-sm-2 control-label">Empresa:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{estagioBean.estagio.empresa}" maxlength="80" style="width:60%"
                                                        rendered="true" required="true" requiredMessage="Informe a Empresa responsável pelo estagio" />&nbsp;
                                                    
                                    </div>
                                    <label for="cdEmpresa" class="col-sm-2 control-label">Bolsa:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{estagioBean.estagio.bolsa}" maxlength="80" style="width:60%"
                                                        rendered="true" required="true" requiredMessage="Informe a bolsa do estagio" />&nbsp;                                  
                                    </div>
                                    
                                      <label for="cdEmpresa" class="col-sm-2 control-label">Benefícios:</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{estagioBean.estagio.beneficios}" maxlength="20" style="width:60%"
                                                        rendered="true" required="true"  requiredMessage="Informe os benefícios do estagio"/>&nbsp;                               
                                    </div>
                                    
                                      <label for="cdEmpresa" class="col-sm-2 control-label">Carga horária (h/Semana):</label>
                                    <div class="col-sm-10">
                                                <p:inputText styleClass="form-control" value="#{estagioBean.estagio.chSemanal}" maxlength="20" style="width:60%"
                                                        rendered="true" requiredMessage="Informe qual a carga horária semanal"/>                                 
                                    </div>   
                        		</div>
                                <div class="text-center">
                                        <p:commandLink action="#{estagioBean.salvar}" update="@form" styleClass="btn btn-primary btn-sm">
                                                <i class="fa fa-save" />
                                                Salvar
                                        </p:commandLink>
                                        &nbsp;
                                        <p:commandLink  action="#{estagioBean.grid}" update="@form" styleClass="btn btn-danger btn-sm">
                                                <i class="fa fa-reply-all" />
                                                Cancelar
                                        </p:commandLink>
                                </div>
                                <p:messages rendered="true"></p:messages>               
                        </p:panel>
                
                </h:form>
        </ui:define>
</ui:composition>
</html>